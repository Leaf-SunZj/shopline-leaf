

{{assign '_colNum' 4}}
{{assign '_mbColNum' 2}}
{{#if colNum}}
  {{assign '_colNum' colNum}}
{{/if}}
{{#if mbColNum}}
  {{assign '_mbColNum' mbColNum}}
{{/if}}

{{#if effectPage '==' 'productList'}}
<div class="{{ append (cond listClassName listClassName '')}} product-list-container product-list-item-parent-controller row row-cols-{{_mbColNum}} row-cols-lg-{{_colNum}} row-cols-xl-{{_colNum}} product-list-small-grid">
{{else}}
<div class="product-list-item-parent-controller row row-cols-{{_mbColNum}} row-cols-md-{{_colNum}}">
{{/if}}
  {{#each listData as |item|}}
    <div class="col product-item-list" {{{item.shopline_attributes}}}>
      {{snippet 'product/commons/product-item' subTitleShowType=../subTitleShowType previewQuery=../previewQuery spu=item forbiddenBtn=../forbiddenBtn index=@index className=../className }}
    </div>
  {{/each}}
</div>

{{#if (boolean total '>' pageSize '&&' (isFalsey infiniteScroll))}}
  {{snippet 'product/commons/pagination' mode='href' id="pagination"  total=total pageSize=pageSize current=pageNum request=request }}
{{/if}}