---
all_collections:
  need_first_product: false
---

{{ combine_asset_tag 'stage/header/style/index.css' inline=true }}
<!-- stage/header/index.js -->
  {{ combine_asset_tag 'vendors/@yy_sl-theme-shared.min.css' inline=true }}
  {{ combine_asset_tag 'vendors/@sl_cart.min.css' inline=true }}
  {{ combine_asset_tag 
    'vendors/axios.min.js'
    'vendors/query-string.min.js'
    'vendors/uuid.min.js'
    'vendors/lodash.min.js'
    'vendors/debug.min.js'
    'vendors/eventemitter3.min.js'
    'vendors/@sl_currency-tools-core.min.js'
    'vendors/@sl_smart-payment.min.js'
    'vendors/js-cookie.min.js'
    'vendors/@yy_sl-theme-shared.min.js'
    'vendors/@sl_cart.min.js'
    'vendors/@funnyecho_hamon.min.js'
    type="text/javascript"
    defer=true
  }}
  {{ combine_asset_tag 
    'theme-shared/utils/request.js'
    'commons/base/BaseClass.js'
    'theme-shared/utils/report/page.js'
    'theme-shared/utils/report/tool.js'
    'theme-shared/report/common/baseReport.js'
    'theme-shared/report/common/inputReport.js'
    'theme-shared/report/common/hoverReport.js'
    'theme-shared/report/stage/const.js'
    'theme-shared/report/stage/index.js'
    'theme-shared/report/stage/virtualReport.js'
    'commons/report/virtualReport.js'
    'stage/header/scripts/header-search.js'
    'stage/header/scripts/drawer-menu.js'
    'theme-shared/components/hbs/shared/base/BaseClass.js'
    'theme-shared/components/hbs/shared/components/topDrawer/const.js'
    'theme-shared/components/hbs/shared/components/topDrawer/index.js'
    'commons/components/topDrawer/index.js'
    'stage/header/scripts/mobile-locale-currency-drawer.js'
    'theme-shared/utils/stickyElementManager.js'
    'theme-shared/components/hbs/shared/components/drawer/const.js'
    'theme-shared/utils/get-env.js'
    'theme-shared/utils/createLogger.js'
    'theme-shared/events/utils/api-logger.js'
    'theme-shared/events/stage/enum/index.js'
    'theme-shared/events/stage/developer-api/header-sticky/index.js'
    'theme-shared/utils/headerStickyEvent.js'
    'theme-shared/utils/event-bus.js'
    'theme-shared/utils/parsePathToArray.js'
    'theme-shared/utils/state-selector.js'
    'theme-shared/utils/dataAccessor.js'
    'theme-shared/utils/newCurrency/CurrencyConvert.js'
    'theme-shared/utils/newCurrency/index.js'
    'theme-shared/utils/report/const.js'
    'theme-shared/utils/dataReport/tool.js'
    'theme-shared/utils/dataReport/ga.js'
    'theme-shared/utils/dataReport/gad.js'
    'theme-shared/utils/syntax-patch.js'
    'theme-shared/utils/dataReport/fb.js'
    'theme-shared/utils/i18n.js'
    'theme-shared/components/hbs/shared/components/toast/toast.js'
    'theme-shared/components/hbs/shared/components/toast/loading.js'
    'theme-shared/components/hbs/shared/components/toast/index.js'
    'theme-shared/components/smart-payment/constants.js'
    'theme-shared/const/preload-state-fields.js'
    'theme-shared/components/smart-payment/utils.js'
    'theme-shared/utils/tradeReport/const.js'
    'theme-shared/utils/tradeReport/index.js'
    'theme-shared/events/trade/interior-event/index.js'
    'theme-shared/events/trade/enum/index.js'
    'theme-shared/events/trade/developer-api/cart-sidebar-render/index.js'
    'theme-shared/utils/report/hd-const.js'
    'theme-shared/utils/tradeReport/hdReport.js'
    'theme-shared/utils/tradeReport/hdReportV2.js'
    'theme-shared/utils/tradeReport/eventListen.js'
    'commons/logger/index.js'
    'commons/utils/isMobile.js'
    'commons/utils/throttle.js'
    'commons/utils/main.js'
    'commons/utils/helper.js'
    'commons/utils/index.js'
    'cart/script/biz/sticky-cart/helper.js'
    'theme-shared/utils/currency/getCurrencyCode.js'
    'cart/script/report/cartReport.js'
    'cart/script/biz/sticky-cart/index.js'
    'cart/script/domain/adapter/svc/internal/config.js'
    'cart/script/domain/adapter/svc/internal/transport.js'
    'cart/script/domain/adapter/svc/index.js'
    'cart/script/domain/adapter/storage/constant.js'
    'cart/script/domain/adapter/storage/index.js'
    'cart/script/utils/event-bus/index.js'
    'cart/script/domain/adapter/svc/internal/constant.js'
    'cart/script/domain/adapter/svc/cart.js'
    'cart/script/domain/adapter/svc/voucher.js'
    'cart/script/domain/adapter/svc/coupon.js'
    'cart/script/domain/model/helpers.js'
    'cart/script/domain/adapter/svc/order.js'
    'cart/script/constant/responseCode.js'
    'cart/script/constant/cartQuantity.js'
    'cart/script/domain/model/cart.js'
    'cart/script/constant/stockType.js'
    'cart/script/domain/vo/productStock.js'
    'cart/script/constant/priceType.js'
    'cart/script/domain/vo/productPriceType.js'
    'cart/script/utils/object.js'
    'cart/script/domain/model/cartItem.js'
    'cart/script/domain/vo/responseCode.js'
    'cart/script/domain/model/response.js'
    'cart/script/domain/model/promotionCode.js'
    'theme-shared/biz-com/trade/optimize-modal/constant.js'
    'theme-shared/biz-com/trade/optimize-modal/cartChangeItem.js'
    'cart/script/domain/vo/productVerifyType.js'
    'cart/script/domain/model/cartVerifyItem.js'
    'cart/script/service/cart/hooks.js'
    'cart/script/service/cart/service.js'
    'cart/script/service/cart/index.js'
    'cart/script/service/index.js'
    'commons/utils/dynamicImportMiniCart.js'
    'commons/components/toast/toast.js'
    'commons/components/toast/loading.js'
    'commons/components/toast/index.js'
    'commons/cart/errorCode.js'
    'commons/cart/handleAddToCartErrorCodeToast.js'
    'commons/cart/globalEvent.js'
    'stage/header/scripts/desktop-site-nav.js'
    'stage/header/index.js'
    type="text/javascript"
    defer=true
  }}


{{ assign 'main_menu' (get section.settings.main_menu_link_list navigations) }}
{{ assign 'mobile_main_menu' (get section.settings.mobile_main_menu_link_list navigations) }}
{{ assign 'settings' section.settings }}
{{ assign 'show_toolbar' false }}

{{ assign 'header_padding_selector' 'header-container-padding' }}
{{ snippet 'section-padding-creator' selector=(append '.' header_padding_selector) sectionId=section.id paddingTop=section.settings.padding_top paddingBottom=section.settings.padding_bottom }}
{{ preload_state 'tradeSettleConfig' }}

{{ assign 'blockObj' (JSONparse '{}') }}

{{#each section.block_order as | blockId |}}
    {{#with (JSONparse '{}')}}
        {{ assign 'block' (lookup ../../section.blocks blockId) }}
        {{ assign 'menuTitle' (get 'settings.menu_title' block) }}
        
        {{#if menuTitle}}
          {{ assign 'upperCaseTitle' (uppercase menuTitle) }}
          {{#if (isFalsey (get upperCaseTitle ../../blockObj))}}
            {{#with ../../blockObj}}
                {{ assign ../upperCaseTitle ../block }}
            {{/with}}
          {{/if}}
        {{/if}}
    {{/with}}
{{/each}}

{{#if (boolean section.settings.show_locale_selector '||' section.settings.show_currency_selector)}}
	{{ assign 'show_toolbar' true }}
{{/if}}
{{#if (boolean section.settings.show_country_selector '&&' (boolean (length localization.available_contries) '>' 1))}}
	{{ assign 'show_toolbar' true }}
{{/if}}

{{#if show_toolbar}}
  {{ snippet 'header/toolbar' }}
  
  {{ snippet 'mobile-locale-currency-drawer' }}
{{/if}}


{{ assign 'drawer_id' 'menu-drawer' }}
{{#snippet 'global_drawer' id=drawer_id position='left'}}
  {{#if section.settings.show_user_entry}}
  {{#child 'head'}}
    {{ snippet 'header-btns' btns='user' classnames='menu-drawer__header' }}
  {{/child}}
  {{/if}}
  {{#child}}
    {{ snippet 'drawer-menu' drawer_id=drawer_id main_menu=main_menu settings=section.settings drawer_position='left' blockObj=blockObj }}
  {{/child}}
{{/snippet}}


{{#and (if section.settings.mobile_main_menu_link_list) (if mobile_main_menu.handle '!==' main_menu.handle)}}
  {{ assign 'mobile_drawer_id' 'mobile-menu-drawer' }}
  {{#snippet 'global_drawer' id=mobile_drawer_id position='left'}}
    {{#if section.settings.show_user_entry}}
    {{#child 'head'}}
      {{ snippet 'header-btns' btns='user' classnames='menu-drawer__header' }}
    {{/child}}
    {{/if}}
    {{#child}}
      {{ snippet 'drawer-menu' drawer_id=mobile_drawer_id main_menu=mobile_main_menu settings=section.settings drawer_position='left' blockObj=blockObj }}
    {{/child}}
  {{/snippet}}
{{/and}}

{{ snippet 'global-border-shadow-style' color_scheme=section.settings.color_scheme sectionId=section.id type='modal' }}


<div class="header-sticky-wrapper __sl-custom-track-stage-header" data-color-scheme="{{ section.settings.color_scheme }}">
	<div id="stage-headerWrapper" class="header__wrapper">
    <header class="header__main" id="stage-header" data-sticky="{{ boolean section.settings.header_style }}" data-section-id="{{ section.id }}">
      {{ snippet 'header/header-layout-left-down' blockObj=blockObj settings=section.settings main_menu=main_menu }}
      
      {{ snippet 'header-search' id='header-drawer' suggestMenu=section.settings.suggested_menu }}
    </header>
  </div>
</div>

{{#if theme.settings.cart_open_type '===' 'drawer'}}
  {{ snippet 'header-mini-cart' }}
{{/if}}

{{#schema}}
{
  "name": "t:sections.header.name",
  "max_blocks": 5,
  "settings": [
    {
      "id": "color_scheme",
      "type": "select",
      "label": "t:sections.header.settings.color_scheme.label",
      "default": "2",
      "options": [
        {
          "value": "",
          "label": "t:sections.header.settings.color_scheme.options__0.label"
        },
        {
          "value": "1",
          "label": "t:sections.header.settings.color_scheme.options__1.label"
        },
        {
          "value": "2",
          "label": "t:sections.header.settings.color_scheme.options__2.label"
        },
        {
          "value": "3",
          "label": "t:sections.header.settings.color_scheme.options__3.label"
        }
      ]
    },
    {
      "id": "header_full_width",
      "type": "switch",
      "label": "t:sections.header.settings.header_full_width.label",
      "default": false
    },
    {
      "id": "header_division_bottom",
      "type": "switch",
      "label": "t:sections.header.settings.header_division_bottom.label",
      "default": false
    },
    {
      "type": "group_header",
      "label": "t:sections.header.settings.group_header__0.label"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "t:sections.header.settings.logo.label"
    },
    {
      "type": "range",
      "id": "desktop_logo_width",
      "label": "t:sections.header.settings.desktop_logo_width.label",
      "default": 100,
      "min": 100,
      "max": 400,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "mobile_logo_width",
      "label": "t:sections.header.settings.mobile_logo_width.label",
      "default": 100,
      "min": 60,
      "max": 200,
      "step": 10,
      "unit": "px"
    },
    {
      "type": "group_header",
      "label": "t:sections.header.settings.group_header__1.label"
    },
    {
      "type": "text",
      "id": "feature_menu",
      "label": "t:sections.header.settings.feature_menu.label",
      "info": "t:sections.header.settings.feature_menu.info"
    },
    {
      "id": "feature_menu_color",
      "type": "color_picker",
      "label": "t:sections.header.settings.feature_menu_color.label",
      "default": ""
    },
    {
      "id": "feature_menu_icon",
      "type": "select",
      "label": "t:sections.header.settings.feature_menu_icon.label",
      "default": "fire",
      "options": [
        {
          "value": "hot",
          "label": "Hot"
        },
        {
          "value": "sale",
          "label": "Sale"
        },
        {
          "value": "fire",
          "label": "t:sections.header.settings.feature_menu_icon.options__2.label"
        },
        {
          "value": "new",
          "label": "New"
        }
      ]
    },
    {
      "type": "image_picker",
      "id": "feature_menu_img",
      "label": "t:sections.header.settings.feature_menu_img.label"
    },
    {
      "type": "group_header",
      "label": "t:sections.header.settings.group_header__2.label"
    },
    {
      "type": "menu_picker",
      "id": "main_menu_link_list",
      "label": "t:sections.header.settings.main_menu_link_list.label",
      "default": "head"
    },
    {
      "type": "menu_picker",
      "id": "mobile_main_menu_link_list",
      "label": "t:sections.header.settings.mobile_main_menu_link_list.label"
    },
    {
      "type": "select",
      "id": "main_menu_layout",
      "label": "t:sections.header.settings.main_menu_layout.label",
      "default": "dropdown",
      "options": [
        {
          "value": "dropdown",
          "label": "t:sections.header.settings.main_menu_layout.options__0.label"
        },
        {
          "value": "drawer",
          "label": "t:sections.header.settings.main_menu_layout.options__1.label"
        }
      ]
    },
    {
      "type": "select",
      "id": "navigation_layout",
      "label": "t:sections.header.settings.navigation_layout.label",
      "default": "middle-line",
      "options": [
        {
          "value": "left-left",
          "label": "t:sections.header.settings.navigation_layout.options__0.label"
        },
        {
          "value": "left-line",
          "label": "t:sections.header.settings.navigation_layout.options__1.label"
        },
        {
          "value": "middle-left",
          "label": "t:sections.header.settings.navigation_layout.options__2.label"
        },
        {
          "value": "middle-line",
          "label": "t:sections.header.settings.navigation_layout.options__3.label"
        }
      ]
    },
    {
      "type": "switch",
      "id": "header_style",
      "label": "t:sections.header.settings.header_style.label",
      "default": true
    },
    {
      "type": "switch",
      "id": "show_line_separator",
      "default": true,
      "label": "t:sections.header.settings.show_line_separator.label"
    },
    {
      "type": "switch",
      "id": "show_search_entry",
      "default": true,
      "label": "t:sections.header.settings.show_search_entry.label"
    },
    {
      "type": "menu_picker",
      "id": "suggested_menu",
      "default": "",
      "label": "t:sections.header.settings.suggested_menu.label",
      "info": "t:sections.header.settings.suggested_menu.info"
    },
    {
      "type": "switch",
      "id": "show_user_entry",
      "default": true,
      "label": "t:sections.header.settings.show_user_entry.label"
    },
    {
      "type": "switch",
      "id": "show_cart_entry",
      "default": true,
      "label": "t:sections.header.settings.show_cart_entry.label"
    },
    {
      "type": "switch",
      "id": "show_locale_selector",
      "label": "t:sections.header.settings.show_locale_selector.label",
      "info": "t:sections.header.settings.show_locale_selector.info",
      "default": false
    },
    {
      "type": "switch",
      "id": "show_country_selector",
      "label": "t:sections.header.settings.show_country_selector.label",
      "info": "t:sections.header.settings.show_country_selector.info",
      "default": false
    },
    {
      "type": "switch",
      "id": "show_currency_selector",
      "label": "t:sections.header.settings.show_currency_selector.label",
      "info": "t:sections.header.settings.show_currency_selector.info",
      "default": false
    },
    {
      "type": "switch",
      "id": "show_currency_flags",
      "label": "t:sections.header.settings.show_currency_flags.label",
      "default": true
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "t:sections.header.settings.padding_top.label",
      "default": 0,
      "max": 100,
      "min": 0,
      "step": 2,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "t:sections.header.settings.padding_bottom.label",
      "default": 0,
      "max": 100,
      "min": 0,
      "step": 2,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "menuImage",
      "name": "t:sections.header.blocks.menuImage.name",
      "icon": "image",
      "settings": [
        {
          "type": "text",
          "id": "menu_title",
          "default": "",
          "label": "t:sections.header.blocks.menuImage.settings.menu_title.label",
          "info": "t:sections.header.blocks.menuImage.settings.menu_title.info"
        },
        {
          "type": "group_header",
          "label": "t:sections.header.blocks.menuImage.settings.group_header__0.label"
        },
        {
          "type": "image_picker",
          "id": "image_1",
          "label": "t:sections.header.blocks.menuImage.settings.image_1.label"
        },
        {
          "type": "text",
          "id": "image_1_title",
          "default": "",
          "label": "t:sections.header.blocks.menuImage.settings.image_1_title.label"
        },
        {
          "type": "url",
          "id": "image_1_link",
          "label": "t:sections.header.blocks.menuImage.settings.image_1_link.label"
        },
        {
          "type": "select",
          "id": "image_1_position",
          "label": "t:sections.header.blocks.menuImage.settings.image_1_position.label",
          "default": "right",
          "options": [
            {
              "value": "left",
              "label": "t:sections.header.blocks.menuImage.settings.image_1_position.options__0.label"
            },
            {
              "value": "right",
              "label": "t:sections.header.blocks.menuImage.settings.image_1_position.options__1.label"
            }
          ]
        },
        {
          "type": "select",
          "id": "image_1_size",
          "label": "t:sections.header.blocks.menuImage.settings.image_1_size.label",
          "default": "300",
          "options": [
            {
              "value": "200",
              "label": "t:sections.header.blocks.menuImage.settings.image_1_size.options__0.label"
            },
            {
              "value": "300",
              "label": "t:sections.header.blocks.menuImage.settings.image_1_size.options__1.label"
            },
            {
              "value": "400",
              "label": "t:sections.header.blocks.menuImage.settings.image_1_size.options__2.label"
            }
          ]
        },
        {
          "type": "group_header",
          "label": "t:sections.header.blocks.menuImage.settings.group_header__1.label"
        },
        {
          "type": "image_picker",
          "id": "image_2",
          "label": "t:sections.header.blocks.menuImage.settings.image_2.label"
        },
        {
          "type": "text",
          "id": "image_2_title",
          "default": "",
          "label": "t:sections.header.blocks.menuImage.settings.image_2_title.label"
        },
        {
          "type": "url",
          "id": "image_2_link",
          "label": "t:sections.header.blocks.menuImage.settings.image_2_link.label"
        },
        {
          "type": "select",
          "id": "image_2_position",
          "label": "t:sections.header.blocks.menuImage.settings.image_2_position.label",
          "default": "right",
          "options": [
            {
              "value": "left",
              "label": "t:sections.header.blocks.menuImage.settings.image_2_position.options__0.label"
            },
            {
              "value": "right",
              "label": "t:sections.header.blocks.menuImage.settings.image_2_position.options__1.label"
            }
          ]
        },
        {
          "type": "select",
          "id": "image_2_size",
          "label": "t:sections.header.blocks.menuImage.settings.image_2_size.label",
          "default": "300",
          "options": [
            {
              "value": "200",
              "label": "t:sections.header.blocks.menuImage.settings.image_2_size.options__0.label"
            },
            {
              "value": "300",
              "label": "t:sections.header.blocks.menuImage.settings.image_2_size.options__1.label"
            },
            {
              "value": "400",
              "label": "t:sections.header.blocks.menuImage.settings.image_2_size.options__2.label"
            }
          ]
        }
      ]
    }
  ]
}
{{/schema}}
